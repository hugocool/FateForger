# Productivity Bot Environment Configuration
# Copy this file to .env and fill in your actual values

# --- Core ports / transports (used by docker-compose.yml) ---
# Calendar MCP server port inside/outside docker
PORT=3000
# Google calendar MCP transport (http|stdio|streamable-http depending on image)
TRANSPORT=http

# Slack Bot Configuration
SLACK_BOT_TOKEN=xoxb-your-bot-token-here
SLACK_SIGNING_SECRET=your-signing-secret-here
SLACK_APP_TOKEN=xapp-your-app-token-here
SLACK_SOCKET_MODE=true
SLACK_PORT=3002
SLACK_FOCUS_TTL_SECONDS=3600
# Optional: when set, timeboxing conversations are moved into this channel.
# Use a channel ID like C0123456789 (not the channel name).
SLACK_TIMEBOXING_CHANNEL_ID=
# Optional specialist channel IDs (if unset, startup bootstrap can still discover/create channels,
# but setting these is useful for local/dev without DB persistence).
SLACK_STRATEGY_CHANNEL_ID=
SLACK_TASKS_CHANNEL_ID=
SLACK_OPS_CHANNEL_ID=
# If set, messages in #general (this channel id) are routed through the receptionist without @mention.
SLACK_GENERAL_CHANNEL_ID=

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=

# LLM Provider (OpenAI-compatible)
# - openai: uses https://api.openai.com/v1 (default)
# - openrouter: uses https://openrouter.ai/api/v1
LLM_PROVIDER=openai

# OpenRouter Configuration (only used when LLM_PROVIDER=openrouter)
OPENROUTER_API_KEY=or-your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
# OpenRouter "rankings" attribution (optional but recommended)
OPENROUTER_HTTP_REFERER=http://localhost:3000
OPENROUTER_TITLE=FateForger
# Optional: if you need a header-based reasoning control for a specific provider/model.
OPENROUTER_SEND_REASONING_EFFORT_HEADER=false
OPENROUTER_REASONING_EFFORT_HEADER=X-Reasoning-Effort

# Per-agent model selection (OpenRouter model IDs shown as examples)
LLM_MODEL_RECEPTIONIST=google/gemini-2.0-flash-001
LLM_MODEL_ADMONISHER=google/gemini-2.0-flash-001
LLM_MODEL_TIMEBOXING=google/gemini-2.0-flash-001
LLM_MODEL_PLANNER=google/gemini-2.0-flash-001
LLM_MODEL_REVISOR=google/gemini-2.0-flash-001
LLM_MODEL_TASKS=google/gemini-2.0-flash-001
LLM_MODEL_TIMEBOX_PATCHER=google/gemini-2.0-flash-001

# Per-agent reasoning effort (OpenRouter: request body `reasoning.effort`; low|medium|high)
LLM_REASONING_EFFORT_TIMEBOXING=high
LLM_REASONING_EFFORT_REVISOR=medium
LLM_REASONING_EFFORT_TASKS=medium

# MCP (Model Context Protocol) Configuration
MCP_ENDPOINT=http://mcp:4000
MCP_URL=http://mcp:4000
# Used by fateforger to reach the calendar MCP server
MCP_CALENDAR_SERVER_URL=http://localhost:3000

# Database Configuration
DATABASE_URL=sqlite+aiosqlite:///data/admonish.db
ALEMBIC_DATABASE_URL=sqlite:///data/admonish.db

# Calendar Configuration
CALENDAR_WEBHOOK_SECRET=your-webhook-secret-here

# Google Calendar MCP Configuration (for the MCP container)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REFRESH_TOKEN=your-google-refresh-token

# Application Settings
ENVIRONMENT=development
LOG_LEVEL=INFO
DEVELOPMENT=true
SCHEDULER_TIMEZONE=UTC

# Development Settings
PYTHONPATH=/app/src

# --- Notion (optional, for timeboxing durable preference memory) ---
NOTION_TOKEN=ntn_your_notion_integration_token_here
NOTION_TIMEBOXING_PARENT_PAGE_ID=your_parent_page_id_here
NOTION_SPRINT_DB_ID=your_sprint_database_id_here

# --- Notion MCP (optional, docker notion-mcp service) ---
MCP_HTTP_PORT=3001
MCP_HTTP_AUTH_TOKEN=change_me_to_a_long_random_secret

# --- Setup Wizard (recommended for production) ---
# The wizard is a small web UI at the VM's main address that can:
# - guide setup for Slack + MCP servers
# - write values into .env and secrets/ safely
# - run AutoGen MCP connectivity checks
WIZARD_HOST_PORT=80
WIZARD_ADMIN_TOKEN=change_me_to_a_long_random_secret
WIZARD_SESSION_SECRET=change_me_to_a_long_random_secret

# --- Toggl MCP (optional) ---
# Get your Toggl API key from: https://track.toggl.com/profile
TOGGL_API_KEY=your_toggl_api_key_here
TOGGL_DEFAULT_WORKSPACE_ID=
TOGGL_CACHE_TTL=3600000
TOGGL_CACHE_SIZE=1000
# Host port for the optional `toggl-mcp` compose service (container listens on 8000).
TOGGL_MCP_HOST_PORT=8004
# Optional override for the Setup Wizard check (defaults to http://toggl-mcp:8000).
WIZARD_TOGGL_MCP_URL=
