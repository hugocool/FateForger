# Decision Log

| Date | Decision | Rationale |
|------|----------|-----------|
| 2025-07-19 | Use AutoGen AssistantAgent with MCP integration for calendar operations | User explicitly required "no bypassing AutoGen MCP system" and "no manual HTTP calls". Must use AutoGen's built-in MCP tools, not custom implementations or direct API calls. User was frustrated with repeated violations of this architectural choice. |
| 2025-07-20 | Implement Ticket #1: Data contracts and hand-off stub for AutoGen Sequential Workflow | User provided detailed specification for a 7-ticket project to create a structured multi-agent calendar pipeline. Starting with Ticket #1 to establish the foundational data models (PlanDiff, CalendarOp) and sync_plan_to_calendar stub function that will enable LLMs to emit structured Pydantic output and route messages through AutoGen's runtime topics. |
| 2025-07-20 | Implement Ticket #2: PlannerAgent structured JSON output with calendar diffing | User provided complete specification for updating PlannerAgent to use AutoGen's json_output=PlanDiff for structured output, integrate list-events MCP tool for calendar fetching, and implement CREATE/UPDATE/DELETE diff logic. This enables LLMs to emit validated Pydantic models directly without manual JSON parsing. |
| 2025-07-22 | Successfully integrated Notion MCP server with VS Code Copilot | The Notion MCP server is now authenticated and accessible through VS Code Copilot tools, enabling direct interaction with Notion pages, databases, and content management within the development environment. This provides seamless project documentation and task management capabilities. |
| 2025-07-28 | Fixed SQLModel JSON column support for complex Pydantic objects | SQLModel requires sa_column=Column(JSON) for complex types like nested Pydantic models in table=True classes. This allows storing CreatorOrganizer, EventDateTime, and other complex objects as JSON in the database instead of trying to serialize them as primitive SQLAlchemy types. |
| 2025-07-28 | Implemented nested Pydantic models with JSON columns instead of raw Dict types | User correctly pointed out that SQLModel supports nested Pydantic models with sa_column=Column(JSON), which provides type safety, validation, and auto-completion while storing efficiently as JSON. This is much better than raw Dict types which lose all type information and validation. |
